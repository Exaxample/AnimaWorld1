{"_id":"6Dq6MRpH4DG2b2xm","name":"Critico","type":"script","author":"6o6bSPqwq4kEWYV6","img":"icons/svg/dice-target.svg","scope":"global","command":"const table = game.tables.entities.find(t => t.name === \"Localización\");\ntable.draw();\ntable.reset();\n\n\nAudioHelper.play({src: \"systems/animabf/assets/sonidos/clang.mp3\", volume: 0.8, autoplay: true, loop: false}, true);","folder":null,"sort":0,"permission":{"default":1,"6o6bSPqwq4kEWYV6":3},"flags":{}}
{"_id":"AC3uugWAtf0aZ2DT","name":"Ataque","type":"script","author":"6o6bSPqwq4kEWYV6","img":"Tokens/WoW-Classic-Warrior-Guide.png","scope":"global","command":"const pj = token.actor\n//Comprobación del ataque final\n//console.log(token.actor.data.data.combat.weapons[0].data.attack.final.value)\n\nconst weapon = token.actor.data.data.combat.weapons.find(weapons => weapons.data.equipped.value)\n\nconst ataque = token.actor.data.data.combat.weapons[0].data.attack.final.value\n\nconst weapon2 = token.actor.data.data.combat.weapons.find(weapons => weapons.data.equipped.value)\n\nlet negativo= `<p>Debes tener un arma equipada</p>`\n\nconst critico = token.actor.data.data.combat.weapons[0].data.critic.primary.value\nconst arma= token.actor.data.data.combat.weapons[0].name\n\nconst Arcabuz= \"Arcabuz\"\nconst Mandoble= \"Mandoble\"\nconst latigo= \"latigo\"\nconst thrust = \"thrust\"\nconst cut = \"cut\"\nconst impact = \"impact\"\nconst heat = \"heat\"\nconst electricity = \"electricity \"\nconst cold = \"cold\"\nconst energy = \"energy \"\n\nlet mod = await input(`number`, `Modificador:`);\n\nasync function input(type = `text`, prompt = ``){\n  return await new Promise((resolve)=>{\n    new Dialog({\n      title : `Input Dialog`, \n      content : `<table style=\"width:100%\"><tr><th style=\"width:50%\"><label>${prompt}</label></th><td style=\"width:50%\"><input type=\"${type}\" name=\"input\"/></td></tr></table>`,\n      buttons : {\n        Ok : { label : `Ok`, callback : (html) => { resolve(html.find(\"input\").val()); }}\n      }\n    }).render(true);\n  });\n}\n\nlet message_html = `<p>${token.actor.name} golpea con su ${arma}\n [[1d100xa+${ataque} + ${mod}]]</p>`\n\nif (critico == cut && arma != latigo && arma != Mandoble) {\n\nAudioHelper.play({src:\"systems/animabf/assets/sonidos/Slash.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(critico == thrust){\n\nAudioHelper.play({src: \"systems/animabf/assets/sonidos/Slash.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(critico == impact){\n\nAudioHelper.play({src: \"systems/animabf/assets/sonidos/com.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(arma == latigo){\n\nAudioHelper.play({src:\"systems/animabf/assets/sonidos/wip.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(arma == Mandoble) {\n\nAudioHelper.play({src:\"systems/animabf/assets/sonidos/clang.mp3\", volume: 0.3, autoplay: true, loop:\n false}, true);\n}else if(arma == Arcabuz) {\n\nmessage_html = `<p>${token.actor.name} dispara con su ${arma}\n [[1d100xa+${ataque} + ${mod}]]</p>`\n\nAudioHelper.play({src:\"systems/animabf/assets/sonidos/bonk.mp3\", volume: 0.3, autoplay: true, loop:\n false}, true);\n}\n\n\nChatMessage.create({\nuser: game.user._id,\nspeaker: ChatMessage.getSpeaker({token: actor}),\ncontent: message_html \n});","folder":null,"sort":0,"permission":{"default":1,"6o6bSPqwq4kEWYV6":3},"flags":{}}
{"_id":"GohPob0xuMXgijZG","name":"Defensa","type":"script","author":"6o6bSPqwq4kEWYV6","img":"escudo.png","scope":"global","command":"const pj = token.actor\n//Comprobación del ataque final\n//console.log(token.actor.data.data.combat.weapons[0].data.block.final.value)\nconst ataque = token.actor.data.data.combat.weapons[0].data.block.final.value\n\n\nconst critico = token.actor.data.data.combat.weapons[0].data.critic.primary.value\nconst arma= token.actor.data.data.combat.weapons[0].name\n\nlet mod = await input(`number`, `Modificador:`);\n\nasync function input(type = `text`, prompt = ``){\n  return await new Promise((resolve)=>{\n    new Dialog({\n      title : `Input Dialog`, \n      content : `<table style=\"width:100%\"><tr><th style=\"width:50%\"><label>${prompt}</label></th><td style=\"width:50%\"><input type=\"${type}\" name=\"input\"/></td></tr></table>`,\n      buttons : {\n        Ok : { label : `Ok`, callback : (html) => { resolve(html.find(\"input\").val()); }}\n      }\n    }).render(true);\n  });\n}\n\n\nconst latigo= \"latigo\"\nconst thrust = \"thrust\"\nconst cut = \"cut\"\nconst impact = \"impact\"\nconst heat = \"heat\"\nconst electricity = \"electricity \"\nconst cold = \"cold\"\nconst energy = \"energy \"\n\nlet message_html = `<p>${token.actor.name} se defiende con su ${arma}\n [[1d100xa+${ataque} + ${mod}]]</p>`\n\nif (critico == cut && arma != latigo) {\n\nAudioHelper.play({src:\"systems/animabf/assets/sonidos/parada.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(critico == thrust){\n\nAudioHelper.play({src: \"systems/animabf/assets/sonidos/parada.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}else if(critico == impact){\n\nAudioHelper.play({src: \"systems/animabf/assets/sonidos/parada.mp3\", volume: 0.3, autoplay: true, loop: false}, true);\n\n}\n\n\nChatMessage.create({\nuser: game.user._id,\nspeaker: ChatMessage.getSpeaker({token: actor}),\ncontent: message_html \n});","folder":null,"sort":0,"permission":{"default":1,"6o6bSPqwq4kEWYV6":3},"flags":{}}
{"name":"Clouds","type":"script","author":"6o6bSPqwq4kEWYV6","img":"modules/fxmaster/assets/weatherEffects/icons/fog.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"crows\",\"options\":{\"scale\":1,\"speed\":1,\"density\":0.006,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}},{\"type\":\"raintop\",\"options\":{\"scale\":1,\"speed\":1,\"density\":0.3,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}},{\"type\":\"clouds\",\"options\":{\"scale\":0.3,\"direction\":80,\"speed\":1,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","folder":null,"sort":0,"permission":{"default":0,"6o6bSPqwq4kEWYV6":3},"flags":{},"_id":"MkzwUjXWi230KKtS"}
{"_id":"gMFgh3KNZvgoXoMh","name":"New Macro","type":"script","author":"uhV2tgyBinBLHbmK","img":"icons/svg/dice-target.svg","scope":"global","command":"ui.notifications.error(\"Musul es maricón, hehehehe.\");","folder":null,"sort":0,"permission":{"default":0,"uhV2tgyBinBLHbmK":3},"flags":{}}
{"name":"New Macro","type":"chat","author":"6o6bSPqwq4kEWYV6","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"6o6bSPqwq4kEWYV6":3},"flags":{},"_id":"gc1Uhcgq8WCA5Iyv"}
{"name":"New Macro","type":"chat","author":"byJmXNcJlciYOLSz","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"byJmXNcJlciYOLSz":3},"flags":{},"_id":"jhuMsc8BhqRzxEp5"}
{"_id":"jiR1m3ti3Ts5mx5e","name":"Macro test","type":"script","author":"G37DsYqMUEwFvohB","img":"icons/svg/dice-target.svg","scope":"global","command":"let mod = await input(`number`, `Modificador:`);\n\nnew Roll(`1d100 + ${mod}`).evaluate({async : false}).toMessage();\n\nasync function input(type = `text`, prompt = ``){\n  return await new Promise((resolve)=>{\n    new Dialog({\n      title : `Input Dialog`, \n      content : `<table style=\"width:100%\"><tr><th style=\"width:50%\"><label>${prompt}</label></th><td style=\"width:50%\"><input type=\"${type}\" name=\"input\"/></td></tr></table>`,\n      buttons : {\n        Ok : { label : `Ok`, callback : (html) => { resolve(html.find(\"input\").val()); }}\n      }\n    }).render(true);\n  });\n}","folder":null,"sort":0,"permission":{"default":0,"G37DsYqMUEwFvohB":3},"flags":{}}
{"name":"New Macro","type":"chat","author":"PE9pIkkeLs147j9x","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"PE9pIkkeLs147j9x":3},"flags":{},"_id":"k4Ve5LvMPgea8UyZ"}
{"name":"New Macro","type":"chat","author":"G37DsYqMUEwFvohB","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"G37DsYqMUEwFvohB":3},"flags":{},"_id":"mA4Xc4jrO6gGXhlK"}
{"name":"Autumn Leaves","type":"script","author":"6o6bSPqwq4kEWYV6","img":"modules/fxmaster/assets/weatherEffects/icons/leaves.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"leaves\",\"options\":{\"scale\":1,\"speed\":1,\"density\":0.25,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","folder":null,"sort":0,"permission":{"default":0,"6o6bSPqwq4kEWYV6":3},"flags":{},"_id":"mM2yQRUX6F4yMcop"}
{"name":"New Macro","type":"chat","author":"OkKjGGFduRsDmpDY","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0,"OkKjGGFduRsDmpDY":3},"flags":{},"_id":"ogSYnPtoMBxVhTRO"}
{"_id":"pnUIULiD9R765rS5","name":"Esquiva","type":"script","author":"6o6bSPqwq4kEWYV6","img":"esquiva.png","scope":"global","command":"const pj = token.actor\n//Comprobación del ataque final\n//console.log(token.actor.data.data.combat.weapons[0].data.block.final.value)\nconst ataque = token.actor.data.data.combat.dodge.final.value\n\n\nlet mod = await input(`number`, `Modificador:`);\n\nasync function input(type = `text`, prompt = ``){\n  return await new Promise((resolve)=>{\n    new Dialog({\n      title : `Input Dialog`, \n      content : `<table style=\"width:100%\"><tr><th style=\"width:50%\"><label>${prompt}</label></th><td style=\"width:50%\"><input type=\"${type}\" name=\"input\"/></td></tr></table>`,\n      buttons : {\n        Ok : { label : `Ok`, callback : (html) => { resolve(html.find(\"input\").val()); }}\n      }\n    }).render(true);\n  });\n}\n\nlet message_html = `<p>${token.actor.name} trata de esquivar \n [[1d100xa+${ataque}  + ${mod}]]</p>`\n\n\nChatMessage.create({\nuser: game.user._id,\nspeaker: ChatMessage.getSpeaker({token: actor}),\ncontent: message_html \n});\n\n\n//const ataque = token.actor.data.data.combat.weapons[0].data.block.final.value","folder":null,"sort":0,"permission":{"default":1,"6o6bSPqwq4kEWYV6":3},"flags":{}}
{"_id":"rSZG3esTTc4Glhv9","name":"Disparo","type":"script","author":"6o6bSPqwq4kEWYV6","img":"icons/svg/dice-target.svg","scope":"global","command":"AudioHelper.play({src:\"systems/animabf/assets/sonidos/shotgun.mp3\", volume: 0.8, autoplay: true, loop: false}, true);","folder":null,"sort":0,"permission":{"default":0,"6o6bSPqwq4kEWYV6":3},"flags":{}}
{"name":"Rain","type":"script","author":"6o6bSPqwq4kEWYV6","img":"modules/fxmaster/assets/weatherEffects/icons/rain.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"rain\",\"options\":{\"scale\":1,\"direction\":80,\"speed\":1,\"density\":0.5,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","folder":null,"sort":0,"permission":{"default":0,"6o6bSPqwq4kEWYV6":3},"flags":{},"_id":"ungLbPwIQe8xl2d1"}
